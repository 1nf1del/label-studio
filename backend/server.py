#!/usr/bin/env python
from __future__ import print_function

import os
import flask
import json  # it MUST be included after flask!
import db

from flask import request, jsonify, make_response, Response
from utils import exception_treatment, answer, log_config, log, config_line_stripped, load_config


# init
c = load_config()
app = flask.Flask(__name__, static_url_path='')
app.secret_key = 'A0Zrdqwf1AQWj12ajkhgFN]dddd/,?RfDWQQT'


@app.template_filter('json')
def json_filter(s):
    return json.dumps(s)


@app.before_first_request
def app_init():
    pass


@app.route('/static/editor/<path:path>')
def send_editor(path):
    """ Static serving
    """
    return flask.send_from_directory(c['editor']['build_path'], path)


@app.route('/static/<path:path>')
def send_static(path):
    """ Static serving
    """
    return flask.send_from_directory('static', path)


@app.route('/logs')
def send_log():
    """ Log access via web
    """
    logfile = log_config['handlers']['file']['filename']
    return Response(open(logfile).read(), mimetype='text/plain')


@app.route('/')
def index():
    """ Main page: index.html
    """
    global c

    # load config at each page reload (for fast changing of config/input_path/output_path)
    c = load_config()

    # find editor files to include in html
    editor_dir = c['editor']['build_path']
    editor_js_dir = os.path.join(editor_dir, 'js')
    editor_js = ['/static/editor/js/' + f for f in os.listdir(editor_js_dir) if f.endswith('.js')]
    editor_css_dir = os.path.join(editor_dir, 'css')
    editor_css = ['/static/editor/css/' + f for f in os.listdir(editor_css_dir) if f.endswith('.css')]

    # load editor config from XML
    label_config_line = config_line_stripped(open(c['label_config']).read())

    # task data: load task or task with completions if it exists
    task_data = None
    task_id = request.args.get('task_id', None)

    if task_id is not None:
        task_data = db.get_completion(task_id)
        if task_data is None:
            task_data = db.get_task(task_id)

    return flask.render_template('index.html', config=c, label_config_line=label_config_line,
                                 editor_css=editor_css, editor_js=editor_js,
                                 task_id=task_id, task_data=task_data)


@app.route('/tasks')
def tasks_page():
    """ Tasks and completions page: tasks.html
    """
    global c
    c = load_config()
    label_config = open(c['label_config']).read()  # load editor config from XML
    task_ids = db.get_tasks().keys()
    completed_at = db.get_completed_at(task_ids)

    # sort by completed time
    task_ids = sorted([(i, completed_at[i] if i in completed_at else '9') for i in task_ids], key=lambda x: x[1])
    task_ids = [i[0] for i in task_ids]  # take only id back
    return flask.render_template('tasks.html', config=c, label_config=label_config,
                                 task_ids=task_ids, completions=db.get_completions_ids(),
                                 completed_at=completed_at)


@app.route('/api/projects/1/next/', methods=['GET'])
@exception_treatment
def api_generate_next_task():
    """ Generate next task to label
    """
    # try to find task is not presented in completions
    completions = db.get_completions_ids()
    for (task_id, task) in db.get_tasks().items():
        if task_id not in completions:
            log.info(msg='New task for labeling', extra=task)
            return make_response(jsonify(task), 200)

    # no tasks found
    return make_response('', 404)


@app.route('/api/projects/1/task_ids/', methods=['GET'])
@exception_treatment
def api_all_task_ids():
    """ Get all tasks ids
    """
    ids = sorted(db.get_task_ids())
    return make_response(jsonify(ids), 200)


@app.route('/api/tasks/<task_id>/', methods=['GET'])
@exception_treatment
def api_tasks(task_id):
    false = False
    true = True
    null = None
    data = {"id": 765760, "completions": [{"id": 9730, "created_username": "", "created_ago": "0 minutes",
                                           "state": "{\"id\":\"Vm7zwl4qfr\",\"pk\":1,\"selected\":true,\"createdDate\":\"2019-08-16T14:42:58.451Z\",\"createdAgo\":null,\"createdBy\":\" \",\"honeypot\":false,\"root\":{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"i7rm7n57R2\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"4pFfe9c4fd\",\"pid\":\"Y88iKJgTeS\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"amPz_VKWBa\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"Skmo_phvBQ\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"iTCbmopHtc\",\"type\":\"label\",\"_value\":\"Education\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"xQkYjzDnFf\",\"type\":\"audioplus\",\"_value\":\"https://go.heartex.net/static/samples/game.wav\",\"playing\":false,\"regions\":[{\"selected\":false,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_mqa1mk3df3g\",\"pid\":\"_amxORIzlY\",\"start\":0.9688235294117649,\"end\":1.8165441176470587,\"states\":[],\"selectedregionbg\":\"rgba(0, 0, 0, 0.5)\"},{\"selected\":false,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_o68jub7pa1\",\"pid\":\"ppsXnL3hwS\",\"start\":2.3749632352941177,\"end\":2.8055514705882354,\"states\":[{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"mdLynA1RDm\",\"pid\":\"Y88iKJgTeS\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"amPz_VKWBa\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"Skmo_phvBQ\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":true,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"iTCbmopHtc\",\"type\":\"label\",\"_value\":\"Education\"}]}],\"selectedregionbg\":\"rgba(54, 179, 126, 0.3)\"}],\"rangeValue\":20}]},\"names\":{\"label\":\"4pFfe9c4fd\",\"audio\":\"xQkYjzDnFf\"},\"toNames\":{\"audio\":[\"4pFfe9c4fd\"]},\"history\":{\"history\":[{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"i7rm7n57R2\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"4pFfe9c4fd\",\"pid\":\"Y88iKJgTeS\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"amPz_VKWBa\",\"type\":\"label\",\"_value\":\"\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"Skmo_phvBQ\",\"type\":\"label\",\"_value\":\"\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"iTCbmopHtc\",\"type\":\"label\",\"_value\":\"\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"xQkYjzDnFf\",\"type\":\"audioplus\",\"_value\":\"\",\"playing\":false,\"regions\":[],\"rangeValue\":20}]},{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"i7rm7n57R2\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"4pFfe9c4fd\",\"pid\":\"Y88iKJgTeS\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"amPz_VKWBa\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"Skmo_phvBQ\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"iTCbmopHtc\",\"type\":\"label\",\"_value\":\"Education\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"xQkYjzDnFf\",\"type\":\"audioplus\",\"_value\":\"https://go.heartex.net/static/samples/game.wav\",\"playing\":false,\"regions\":[],\"rangeValue\":20}]},{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"i7rm7n57R2\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"4pFfe9c4fd\",\"pid\":\"Y88iKJgTeS\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"amPz_VKWBa\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"Skmo_phvBQ\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"iTCbmopHtc\",\"type\":\"label\",\"_value\":\"Education\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"xQkYjzDnFf\",\"type\":\"audioplus\",\"_value\":\"https://go.heartex.net/static/samples/game.wav\",\"playing\":false,\"regions\":[{\"selected\":false,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_mqa1mk3df3g\",\"pid\":\"_amxORIzlY\",\"start\":0,\"end\":0.02691176470588235,\"states\":[],\"selectedregionbg\":\"rgba(0, 0, 0, 0.5)\"}],\"rangeValue\":20}]},{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"i7rm7n57R2\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"4pFfe9c4fd\",\"pid\":\"Y88iKJgTeS\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"amPz_VKWBa\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"Skmo_phvBQ\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"iTCbmopHtc\",\"type\":\"label\",\"_value\":\"Education\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"xQkYjzDnFf\",\"type\":\"audioplus\",\"_value\":\"https://go.heartex.net/static/samples/game.wav\",\"playing\":false,\"regions\":[{\"selected\":false,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_mqa1mk3df3g\",\"pid\":\"_amxORIzlY\",\"start\":0.9688235294117649,\"end\":1.8165441176470587,\"states\":[],\"selectedregionbg\":\"rgba(0, 0, 0, 0.5)\"}],\"rangeValue\":20}]},{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"i7rm7n57R2\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"4pFfe9c4fd\",\"pid\":\"Y88iKJgTeS\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"amPz_VKWBa\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"Skmo_phvBQ\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"iTCbmopHtc\",\"type\":\"label\",\"_value\":\"Education\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"xQkYjzDnFf\",\"type\":\"audioplus\",\"_value\":\"https://go.heartex.net/static/samples/game.wav\",\"playing\":false,\"regions\":[{\"selected\":true,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_mqa1mk3df3g\",\"pid\":\"_amxORIzlY\",\"start\":0.9688235294117649,\"end\":1.8165441176470587,\"states\":[],\"selectedregionbg\":\"rgba(0, 0, 0, 0.5)\"}],\"rangeValue\":20}]},{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"i7rm7n57R2\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"4pFfe9c4fd\",\"pid\":\"Y88iKJgTeS\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"amPz_VKWBa\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"Skmo_phvBQ\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":true,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"iTCbmopHtc\",\"type\":\"label\",\"_value\":\"Education\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"xQkYjzDnFf\",\"type\":\"audioplus\",\"_value\":\"https://go.heartex.net/static/samples/game.wav\",\"playing\":false,\"regions\":[{\"selected\":true,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_mqa1mk3df3g\",\"pid\":\"_amxORIzlY\",\"start\":0.9688235294117649,\"end\":1.8165441176470587,\"states\":[],\"selectedregionbg\":\"rgba(0, 0, 0, 0.5)\"}],\"rangeValue\":20}]},{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"i7rm7n57R2\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"4pFfe9c4fd\",\"pid\":\"Y88iKJgTeS\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"amPz_VKWBa\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"Skmo_phvBQ\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"iTCbmopHtc\",\"type\":\"label\",\"_value\":\"Education\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"xQkYjzDnFf\",\"type\":\"audioplus\",\"_value\":\"https://go.heartex.net/static/samples/game.wav\",\"playing\":false,\"regions\":[{\"selected\":false,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_mqa1mk3df3g\",\"pid\":\"_amxORIzlY\",\"start\":0.9688235294117649,\"end\":1.8165441176470587,\"states\":[],\"selectedregionbg\":\"rgba(0, 0, 0, 0.5)\"},{\"selected\":false,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_o68jub7pa1\",\"pid\":\"ppsXnL3hwS\",\"start\":0,\"end\":0.02691176470588235,\"states\":[{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"mdLynA1RDm\",\"pid\":\"Y88iKJgTeS\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"amPz_VKWBa\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"Skmo_phvBQ\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":true,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"iTCbmopHtc\",\"type\":\"label\",\"_value\":\"Education\"}]}],\"selectedregionbg\":\"rgba(54, 179, 126, 0.3)\"}],\"rangeValue\":20}]},{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"i7rm7n57R2\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"4pFfe9c4fd\",\"pid\":\"Y88iKJgTeS\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"amPz_VKWBa\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"Skmo_phvBQ\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"iTCbmopHtc\",\"type\":\"label\",\"_value\":\"Education\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"xQkYjzDnFf\",\"type\":\"audioplus\",\"_value\":\"https://go.heartex.net/static/samples/game.wav\",\"playing\":false,\"regions\":[{\"selected\":false,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_mqa1mk3df3g\",\"pid\":\"_amxORIzlY\",\"start\":0.9688235294117649,\"end\":1.8165441176470587,\"states\":[],\"selectedregionbg\":\"rgba(0, 0, 0, 0.5)\"},{\"selected\":false,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_o68jub7pa1\",\"pid\":\"ppsXnL3hwS\",\"start\":2.3749632352941177,\"end\":2.8055514705882354,\"states\":[{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"mdLynA1RDm\",\"pid\":\"Y88iKJgTeS\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"amPz_VKWBa\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"Skmo_phvBQ\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":true,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"iTCbmopHtc\",\"type\":\"label\",\"_value\":\"Education\"}]}],\"selectedregionbg\":\"rgba(54, 179, 126, 0.3)\"}],\"rangeValue\":20}]}],\"undoIdx\":7,\"targetPath\":\"../root\",\"createdIdx\":0,\"isFrozen\":false,\"frozenIdx\":-1},\"dragMode\":false,\"relationMode\":false,\"relationStore\":{\"relations\":[]},\"normalizationMode\":false,\"normalizationStore\":{\"normalizations\":[]},\"regionStore\":{\"regions\":[\"wavesurfer_mqa1mk3df3g\",\"wavesurfer_o68jub7pa1\"]},\"highlightedNode\":null}",
                                           "result": [{"id": "_amxORIzlY", "type": "region",
                                                       "value": {"end": 1.8165441176470587,
                                                                 "start": 0.9688235294117649}, "source": "$url",
                                                       "to_name": "audio", "from_name": "audio"},
                                                      {"id": "ppsXnL3hwS", "type": "labels",
                                                       "value": {"end": 2.8055514705882354, "start": 2.3749632352941177,
                                                                 "labels": ["Education"]}, "source": "$url",
                                                       "to_name": "audio", "from_name": "label"}],
                                           "was_cancelled": false, "honeypot": false,
                                           "created_at": "2019-08-16T14:43:14.051290Z",
                                           "updated_at": "2019-08-16T14:43:14.051309Z", "task": 765760,
                                           "completed_by": 53},
                                          {"id": 9729, "created_username": "", "created_ago": "1 minute",
                                           "state": "{\"id\":\"jh1MEk7yk2\",\"pk\":1,\"selected\":true,\"createdDate\":\"2019-08-16T14:42:18.588Z\",\"createdAgo\":null,\"createdBy\":\" \",\"honeypot\":false,\"root\":{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"PpGa5jaSst\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"GN7e03Lk-R\",\"pid\":\"A2Mi0-UtTK\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"h3V1-QCxQL\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"BHDz-47Gmr\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"oZBPVI2Lhv\",\"type\":\"label\",\"_value\":\"Education\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"jloyDksXes\",\"type\":\"audioplus\",\"_value\":\"https://go.heartex.net/static/samples/game.wav\",\"playing\":false,\"regions\":[{\"selected\":false,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_rt9etprie0g\",\"pid\":\"TLpv2LGWJ2\",\"start\":0.68625,\"end\":0.881360294117647,\"states\":[{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"7yx4RCiSWg\",\"pid\":\"A2Mi0-UtTK\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":true,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"h3V1-QCxQL\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"BHDz-47Gmr\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"oZBPVI2Lhv\",\"type\":\"label\",\"_value\":\"Education\"}]}],\"selectedregionbg\":\"rgba(54, 179, 126, 0.3)\"}],\"rangeValue\":20}]},\"names\":{\"label\":\"GN7e03Lk-R\",\"audio\":\"jloyDksXes\"},\"toNames\":{\"audio\":[\"GN7e03Lk-R\"]},\"history\":{\"history\":[{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"PpGa5jaSst\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"GN7e03Lk-R\",\"pid\":\"A2Mi0-UtTK\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"h3V1-QCxQL\",\"type\":\"label\",\"_value\":\"\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"BHDz-47Gmr\",\"type\":\"label\",\"_value\":\"\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"oZBPVI2Lhv\",\"type\":\"label\",\"_value\":\"\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"jloyDksXes\",\"type\":\"audioplus\",\"_value\":\"\",\"playing\":false,\"regions\":[],\"rangeValue\":20}]},{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"PpGa5jaSst\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"GN7e03Lk-R\",\"pid\":\"A2Mi0-UtTK\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"h3V1-QCxQL\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"BHDz-47Gmr\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"oZBPVI2Lhv\",\"type\":\"label\",\"_value\":\"Education\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"jloyDksXes\",\"type\":\"audioplus\",\"_value\":\"https://go.heartex.net/static/samples/game.wav\",\"playing\":false,\"regions\":[],\"rangeValue\":20}]},{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"PpGa5jaSst\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"GN7e03Lk-R\",\"pid\":\"A2Mi0-UtTK\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":true,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"h3V1-QCxQL\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"BHDz-47Gmr\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"oZBPVI2Lhv\",\"type\":\"label\",\"_value\":\"Education\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"jloyDksXes\",\"type\":\"audioplus\",\"_value\":\"https://go.heartex.net/static/samples/game.wav\",\"playing\":false,\"regions\":[],\"rangeValue\":20}]},{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"PpGa5jaSst\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"GN7e03Lk-R\",\"pid\":\"A2Mi0-UtTK\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"h3V1-QCxQL\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"BHDz-47Gmr\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"oZBPVI2Lhv\",\"type\":\"label\",\"_value\":\"Education\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"jloyDksXes\",\"type\":\"audioplus\",\"_value\":\"https://go.heartex.net/static/samples/game.wav\",\"playing\":false,\"regions\":[{\"selected\":false,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_rt9etprie0g\",\"pid\":\"TLpv2LGWJ2\",\"start\":0,\"end\":0.02691176470588235,\"states\":[{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"7yx4RCiSWg\",\"pid\":\"A2Mi0-UtTK\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":true,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"h3V1-QCxQL\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"BHDz-47Gmr\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"oZBPVI2Lhv\",\"type\":\"label\",\"_value\":\"Education\"}]}],\"selectedregionbg\":\"rgba(54, 179, 126, 0.3)\"}],\"rangeValue\":20}]},{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"PpGa5jaSst\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"GN7e03Lk-R\",\"pid\":\"A2Mi0-UtTK\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"h3V1-QCxQL\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"BHDz-47Gmr\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"oZBPVI2Lhv\",\"type\":\"label\",\"_value\":\"Education\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"jloyDksXes\",\"type\":\"audioplus\",\"_value\":\"https://go.heartex.net/static/samples/game.wav\",\"playing\":false,\"regions\":[{\"selected\":false,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_rt9etprie0g\",\"pid\":\"TLpv2LGWJ2\",\"start\":0.68625,\"end\":0.881360294117647,\"states\":[{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"7yx4RCiSWg\",\"pid\":\"A2Mi0-UtTK\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":true,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"h3V1-QCxQL\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"BHDz-47Gmr\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"oZBPVI2Lhv\",\"type\":\"label\",\"_value\":\"Education\"}]}],\"selectedregionbg\":\"rgba(54, 179, 126, 0.3)\"}],\"rangeValue\":20}]}],\"undoIdx\":4,\"targetPath\":\"../root\",\"createdIdx\":0,\"isFrozen\":false,\"frozenIdx\":-1},\"dragMode\":false,\"relationMode\":false,\"relationStore\":{\"relations\":[]},\"normalizationMode\":false,\"normalizationStore\":{\"normalizations\":[]},\"regionStore\":{\"regions\":[\"wavesurfer_rt9etprie0g\"]},\"highlightedNode\":null}",
                                           "result": [{"id": "TLpv2LGWJ2", "type": "labels",
                                                       "value": {"end": 0.881360294117647, "start": 0.68625,
                                                                 "labels": ["Politics"]}, "source": "$url",
                                                       "to_name": "audio", "from_name": "label"}],
                                           "was_cancelled": false, "honeypot": false,
                                           "created_at": "2019-08-16T14:42:25.258402Z",
                                           "updated_at": "2019-08-16T14:42:25.258424Z", "task": 765760,
                                           "completed_by": 53},
                                          {"id": 9728, "created_username": "", "created_ago": "2 minutes",
                                           "state": "{\"id\":\"mjLvRxwlao\",\"pk\":1,\"selected\":true,\"createdDate\":\"2019-08-16T14:41:45.547Z\",\"createdAgo\":null,\"createdBy\":\" \",\"honeypot\":false,\"root\":{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"WpuQ-3Xo47\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"ps0PPlGwel\",\"pid\":\"_EKSIlb4Xl\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"PIChjdy4wr\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"nFysxyPim_\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"O3lvtu2Ddr\",\"type\":\"label\",\"_value\":\"Education\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"1vsg2_rYB0\",\"type\":\"audioplus\",\"_value\":\"https://go.heartex.net/static/samples/game.wav\",\"playing\":false,\"regions\":[{\"selected\":false,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_e8lip0b5l0o\",\"pid\":\"Tsm7zhrza1\",\"start\":1.1639338235294117,\"end\":2.368235294117647,\"states\":[],\"selectedregionbg\":\"rgba(0, 0, 0, 0.5)\"},{\"selected\":false,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_3vrmjm7akgo\",\"pid\":\"2PhZwToaRI\",\"start\":0.8679044117647059,\"end\":1.1235661764705882,\"states\":[{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"fHMvXxANlu\",\"pid\":\"_EKSIlb4Xl\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"PIChjdy4wr\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":true,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"nFysxyPim_\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"O3lvtu2Ddr\",\"type\":\"label\",\"_value\":\"Education\"}]}],\"selectedregionbg\":\"rgba(54, 179, 126, 0.3)\"}],\"rangeValue\":20}]},\"names\":{\"label\":\"ps0PPlGwel\",\"audio\":\"1vsg2_rYB0\"},\"toNames\":{\"audio\":[\"ps0PPlGwel\"]},\"history\":{\"history\":[{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"WpuQ-3Xo47\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"ps0PPlGwel\",\"pid\":\"_EKSIlb4Xl\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"PIChjdy4wr\",\"type\":\"label\",\"_value\":\"\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"nFysxyPim_\",\"type\":\"label\",\"_value\":\"\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"O3lvtu2Ddr\",\"type\":\"label\",\"_value\":\"\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"1vsg2_rYB0\",\"type\":\"audioplus\",\"_value\":\"\",\"playing\":false,\"regions\":[],\"rangeValue\":20}]},{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"WpuQ-3Xo47\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"ps0PPlGwel\",\"pid\":\"_EKSIlb4Xl\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"PIChjdy4wr\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"nFysxyPim_\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"O3lvtu2Ddr\",\"type\":\"label\",\"_value\":\"Education\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"1vsg2_rYB0\",\"type\":\"audioplus\",\"_value\":\"https://go.heartex.net/static/samples/game.wav\",\"playing\":false,\"regions\":[],\"rangeValue\":20}]},{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"WpuQ-3Xo47\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"ps0PPlGwel\",\"pid\":\"_EKSIlb4Xl\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"PIChjdy4wr\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"nFysxyPim_\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"O3lvtu2Ddr\",\"type\":\"label\",\"_value\":\"Education\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"1vsg2_rYB0\",\"type\":\"audioplus\",\"_value\":\"https://go.heartex.net/static/samples/game.wav\",\"playing\":false,\"regions\":[{\"selected\":false,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_e8lip0b5l0o\",\"pid\":\"Tsm7zhrza1\",\"start\":0,\"end\":0.02691176470588235,\"states\":[],\"selectedregionbg\":\"rgba(0, 0, 0, 0.5)\"}],\"rangeValue\":20}]},{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"WpuQ-3Xo47\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"ps0PPlGwel\",\"pid\":\"_EKSIlb4Xl\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"PIChjdy4wr\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"nFysxyPim_\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"O3lvtu2Ddr\",\"type\":\"label\",\"_value\":\"Education\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"1vsg2_rYB0\",\"type\":\"audioplus\",\"_value\":\"https://go.heartex.net/static/samples/game.wav\",\"playing\":false,\"regions\":[{\"selected\":false,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_e8lip0b5l0o\",\"pid\":\"Tsm7zhrza1\",\"start\":1.1639338235294117,\"end\":2.368235294117647,\"states\":[],\"selectedregionbg\":\"rgba(0, 0, 0, 0.5)\"}],\"rangeValue\":20}]},{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"WpuQ-3Xo47\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"ps0PPlGwel\",\"pid\":\"_EKSIlb4Xl\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"PIChjdy4wr\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":true,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"nFysxyPim_\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"O3lvtu2Ddr\",\"type\":\"label\",\"_value\":\"Education\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"1vsg2_rYB0\",\"type\":\"audioplus\",\"_value\":\"https://go.heartex.net/static/samples/game.wav\",\"playing\":false,\"regions\":[{\"selected\":false,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_e8lip0b5l0o\",\"pid\":\"Tsm7zhrza1\",\"start\":1.1639338235294117,\"end\":2.368235294117647,\"states\":[],\"selectedregionbg\":\"rgba(0, 0, 0, 0.5)\"}],\"rangeValue\":20}]},{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"WpuQ-3Xo47\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"ps0PPlGwel\",\"pid\":\"_EKSIlb4Xl\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"PIChjdy4wr\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"nFysxyPim_\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"O3lvtu2Ddr\",\"type\":\"label\",\"_value\":\"Education\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"1vsg2_rYB0\",\"type\":\"audioplus\",\"_value\":\"https://go.heartex.net/static/samples/game.wav\",\"playing\":false,\"regions\":[{\"selected\":false,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_e8lip0b5l0o\",\"pid\":\"Tsm7zhrza1\",\"start\":1.1639338235294117,\"end\":2.368235294117647,\"states\":[],\"selectedregionbg\":\"rgba(0, 0, 0, 0.5)\"},{\"selected\":false,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_3vrmjm7akgo\",\"pid\":\"2PhZwToaRI\",\"start\":0,\"end\":0.02691176470588235,\"states\":[{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"fHMvXxANlu\",\"pid\":\"_EKSIlb4Xl\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"PIChjdy4wr\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":true,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"nFysxyPim_\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"O3lvtu2Ddr\",\"type\":\"label\",\"_value\":\"Education\"}]}],\"selectedregionbg\":\"rgba(54, 179, 126, 0.3)\"}],\"rangeValue\":20}]},{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"WpuQ-3Xo47\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"ps0PPlGwel\",\"pid\":\"_EKSIlb4Xl\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"PIChjdy4wr\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"nFysxyPim_\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"O3lvtu2Ddr\",\"type\":\"label\",\"_value\":\"Education\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"1vsg2_rYB0\",\"type\":\"audioplus\",\"_value\":\"https://go.heartex.net/static/samples/game.wav\",\"playing\":false,\"regions\":[{\"selected\":false,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_e8lip0b5l0o\",\"pid\":\"Tsm7zhrza1\",\"start\":1.1639338235294117,\"end\":2.368235294117647,\"states\":[],\"selectedregionbg\":\"rgba(0, 0, 0, 0.5)\"},{\"selected\":false,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_3vrmjm7akgo\",\"pid\":\"2PhZwToaRI\",\"start\":0.8679044117647059,\"end\":1.1235661764705882,\"states\":[{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"fHMvXxANlu\",\"pid\":\"_EKSIlb4Xl\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"PIChjdy4wr\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":true,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"nFysxyPim_\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"O3lvtu2Ddr\",\"type\":\"label\",\"_value\":\"Education\"}]}],\"selectedregionbg\":\"rgba(54, 179, 126, 0.3)\"}],\"rangeValue\":20}]}],\"undoIdx\":6,\"targetPath\":\"../root\",\"createdIdx\":0,\"isFrozen\":false,\"frozenIdx\":-1},\"dragMode\":false,\"relationMode\":false,\"relationStore\":{\"relations\":[]},\"normalizationMode\":false,\"normalizationStore\":{\"normalizations\":[]},\"regionStore\":{\"regions\":[\"wavesurfer_e8lip0b5l0o\",\"wavesurfer_3vrmjm7akgo\"]},\"highlightedNode\":null}",
                                           "result": [{"id": "Tsm7zhrza1", "type": "region",
                                                       "value": {"end": 2.368235294117647, "start": 1.1639338235294117},
                                                       "source": "$url", "to_name": "audio", "from_name": "audio"},
                                                      {"id": "2PhZwToaRI", "type": "labels",
                                                       "value": {"end": 1.1235661764705882, "start": 0.8679044117647059,
                                                                 "labels": ["Business"]}, "source": "$url",
                                                       "to_name": "audio", "from_name": "label"}],
                                           "was_cancelled": false, "honeypot": false,
                                           "created_at": "2019-08-16T14:41:53.710812Z",
                                           "updated_at": "2019-08-16T14:41:53.710831Z", "task": 765760,
                                           "completed_by": 53},
                                          {"id": 9727, "created_username": "", "created_ago": "2 minutes",
                                           "state": "{\"id\":\"EVu5IaXgv1\",\"pk\":1,\"selected\":true,\"createdDate\":\"2019-08-16T14:41:19.388Z\",\"createdAgo\":null,\"createdBy\":\" \",\"honeypot\":false,\"root\":{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"zPsSwpEtb9\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"om_Df-SjG6\",\"pid\":\"dPlevDRDpa\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"VaDYmUt2my\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"6rDg_PR4Ij\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"p3lO_Zb4-N\",\"type\":\"label\",\"_value\":\"Education\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"UP9c9GK_St\",\"type\":\"audioplus\",\"_value\":\"https://go.heartex.net/static/samples/game.wav\",\"playing\":false,\"regions\":[{\"selected\":false,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_m0pispeu908\",\"pid\":\"dMWT59rL8b\",\"start\":1.0697426470588236,\"end\":2.3144117647058824,\"states\":[],\"selectedregionbg\":\"rgba(0, 0, 0, 0.5)\"},{\"selected\":false,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_q9ca98hrf6\",\"pid\":\"-o0TWHnwsi\",\"start\":0,\"end\":0.26238970588235294,\"states\":[{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"Dnefz6bFFF\",\"pid\":\"dPlevDRDpa\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":true,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"VaDYmUt2my\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"6rDg_PR4Ij\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"p3lO_Zb4-N\",\"type\":\"label\",\"_value\":\"Education\"}]}],\"selectedregionbg\":\"rgba(54, 179, 126, 0.3)\"}],\"rangeValue\":20}]},\"names\":{\"label\":\"om_Df-SjG6\",\"audio\":\"UP9c9GK_St\"},\"toNames\":{\"audio\":[\"om_Df-SjG6\"]},\"history\":{\"history\":[{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"zPsSwpEtb9\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"om_Df-SjG6\",\"pid\":\"dPlevDRDpa\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"VaDYmUt2my\",\"type\":\"label\",\"_value\":\"\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"6rDg_PR4Ij\",\"type\":\"label\",\"_value\":\"\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"p3lO_Zb4-N\",\"type\":\"label\",\"_value\":\"\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"UP9c9GK_St\",\"type\":\"audioplus\",\"_value\":\"\",\"playing\":false,\"regions\":[],\"rangeValue\":20}]},{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"zPsSwpEtb9\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"om_Df-SjG6\",\"pid\":\"dPlevDRDpa\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"VaDYmUt2my\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"6rDg_PR4Ij\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"p3lO_Zb4-N\",\"type\":\"label\",\"_value\":\"Education\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"UP9c9GK_St\",\"type\":\"audioplus\",\"_value\":\"https://go.heartex.net/static/samples/game.wav\",\"playing\":false,\"regions\":[],\"rangeValue\":20}]},{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"zPsSwpEtb9\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"om_Df-SjG6\",\"pid\":\"dPlevDRDpa\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"VaDYmUt2my\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"6rDg_PR4Ij\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"p3lO_Zb4-N\",\"type\":\"label\",\"_value\":\"Education\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"UP9c9GK_St\",\"type\":\"audioplus\",\"_value\":\"https://go.heartex.net/static/samples/game.wav\",\"playing\":false,\"regions\":[{\"selected\":false,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_m0pispeu908\",\"pid\":\"dMWT59rL8b\",\"start\":0,\"end\":0.02691176470588235,\"states\":[],\"selectedregionbg\":\"rgba(0, 0, 0, 0.5)\"}],\"rangeValue\":20}]},{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"zPsSwpEtb9\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"om_Df-SjG6\",\"pid\":\"dPlevDRDpa\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"VaDYmUt2my\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"6rDg_PR4Ij\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"p3lO_Zb4-N\",\"type\":\"label\",\"_value\":\"Education\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"UP9c9GK_St\",\"type\":\"audioplus\",\"_value\":\"https://go.heartex.net/static/samples/game.wav\",\"playing\":false,\"regions\":[{\"selected\":false,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_m0pispeu908\",\"pid\":\"dMWT59rL8b\",\"start\":1.0697426470588236,\"end\":2.3144117647058824,\"states\":[],\"selectedregionbg\":\"rgba(0, 0, 0, 0.5)\"}],\"rangeValue\":20}]},{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"zPsSwpEtb9\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"om_Df-SjG6\",\"pid\":\"dPlevDRDpa\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":true,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"VaDYmUt2my\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"6rDg_PR4Ij\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"p3lO_Zb4-N\",\"type\":\"label\",\"_value\":\"Education\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"UP9c9GK_St\",\"type\":\"audioplus\",\"_value\":\"https://go.heartex.net/static/samples/game.wav\",\"playing\":false,\"regions\":[{\"selected\":false,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_m0pispeu908\",\"pid\":\"dMWT59rL8b\",\"start\":1.0697426470588236,\"end\":2.3144117647058824,\"states\":[],\"selectedregionbg\":\"rgba(0, 0, 0, 0.5)\"}],\"rangeValue\":20}]},{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"zPsSwpEtb9\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"om_Df-SjG6\",\"pid\":\"dPlevDRDpa\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"VaDYmUt2my\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"6rDg_PR4Ij\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"p3lO_Zb4-N\",\"type\":\"label\",\"_value\":\"Education\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"UP9c9GK_St\",\"type\":\"audioplus\",\"_value\":\"https://go.heartex.net/static/samples/game.wav\",\"playing\":false,\"regions\":[{\"selected\":false,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_m0pispeu908\",\"pid\":\"dMWT59rL8b\",\"start\":1.0697426470588236,\"end\":2.3144117647058824,\"states\":[],\"selectedregionbg\":\"rgba(0, 0, 0, 0.5)\"},{\"selected\":false,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_q9ca98hrf6\",\"pid\":\"-o0TWHnwsi\",\"start\":0,\"end\":0.02691176470588235,\"states\":[{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"Dnefz6bFFF\",\"pid\":\"dPlevDRDpa\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":true,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"VaDYmUt2my\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"6rDg_PR4Ij\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"p3lO_Zb4-N\",\"type\":\"label\",\"_value\":\"Education\"}]}],\"selectedregionbg\":\"rgba(54, 179, 126, 0.3)\"}],\"rangeValue\":20}]},{\"display\":\"block\",\"backgroundcolor\":\"\",\"margin\":\"\",\"id\":\"zPsSwpEtb9\",\"type\":\"view\",\"style\":null,\"children\":[{\"type\":\"header\",\"size\":4,\"value\":\"Select label:\",\"underline\":false},{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"om_Df-SjG6\",\"pid\":\"dPlevDRDpa\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":false,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"VaDYmUt2my\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"6rDg_PR4Ij\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"p3lO_Zb4-N\",\"type\":\"label\",\"_value\":\"Education\"}]},{\"type\":\"header\",\"size\":4,\"value\":\"Select audio region:\",\"underline\":false},{\"name\":\"audio\",\"value\":\"$url\",\"haszoom\":\"true\",\"volume\":1,\"speed\":1,\"id\":\"UP9c9GK_St\",\"type\":\"audioplus\",\"_value\":\"https://go.heartex.net/static/samples/game.wav\",\"playing\":false,\"regions\":[{\"selected\":false,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_m0pispeu908\",\"pid\":\"dMWT59rL8b\",\"start\":1.0697426470588236,\"end\":2.3144117647058824,\"states\":[],\"selectedregionbg\":\"rgba(0, 0, 0, 0.5)\"},{\"selected\":false,\"highlighted\":false,\"normInput\":null,\"normalization\":null,\"id\":\"wavesurfer_q9ca98hrf6\",\"pid\":\"-o0TWHnwsi\",\"start\":0,\"end\":0.26238970588235294,\"states\":[{\"name\":\"label\",\"toname\":\"audio\",\"choice\":\"single\",\"selectionstyle\":null,\"id\":\"Dnefz6bFFF\",\"pid\":\"dPlevDRDpa\",\"type\":\"labels\",\"children\":[{\"value\":\"Politics\",\"selected\":true,\"alias\":null,\"hotkey\":\"1\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"VaDYmUt2my\",\"type\":\"label\",\"_value\":\"Politics\"},{\"value\":\"Business\",\"selected\":false,\"alias\":null,\"hotkey\":\"2\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"6rDg_PR4Ij\",\"type\":\"label\",\"_value\":\"Business\"},{\"value\":\"Education\",\"selected\":false,\"alias\":null,\"hotkey\":\"3\",\"showalias\":\"false\",\"aliasstyle\":\"opacity: 0.6\",\"size\":\"medium\",\"background\":\"#36B37E\",\"selectedcolor\":\"white\",\"id\":\"p3lO_Zb4-N\",\"type\":\"label\",\"_value\":\"Education\"}]}],\"selectedregionbg\":\"rgba(54, 179, 126, 0.3)\"}],\"rangeValue\":20}]}],\"undoIdx\":6,\"targetPath\":\"../root\",\"createdIdx\":0,\"isFrozen\":false,\"frozenIdx\":-1},\"dragMode\":false,\"relationMode\":false,\"relationStore\":{\"relations\":[]},\"normalizationMode\":false,\"normalizationStore\":{\"normalizations\":[]},\"regionStore\":{\"regions\":[\"wavesurfer_m0pispeu908\",\"wavesurfer_q9ca98hrf6\"]},\"highlightedNode\":null}",
                                           "result": [{"id": "dMWT59rL8b", "type": "region",
                                                       "value": {"end": 2.3144117647058824,
                                                                 "start": 1.0697426470588236}, "source": "$url",
                                                       "to_name": "audio", "from_name": "audio"},
                                                      {"id": "-o0TWHnwsi", "type": "labels",
                                                       "value": {"end": 0.26238970588235294, "start": 0,
                                                                 "labels": ["Politics"]}, "source": "$url",
                                                       "to_name": "audio", "from_name": "label"}],
                                           "was_cancelled": false, "honeypot": false,
                                           "created_at": "2019-08-16T14:41:29.144775Z",
                                           "updated_at": "2019-08-16T14:41:29.144793Z", "task": 765760,
                                           "completed_by": 53}], "completion_result": null,
            "data": {"url": "https://go.heartex.net/static/samples/game.wav"}, "meta": {}, "accuracy": 0.25,
            "created_at": "2019-08-16T14:41:12.595969Z", "updated_at": "2019-08-16T14:43:14.060965Z",
            "is_labeled": true, "project": 248}
    return make_response(data, 200)


    """ Get task by id
    """
    # try to get task with completions first
    task_data = db.get_completion(task_id)
    task_data = db.get_task(task_id) if task_data is None else task_data
    return make_response(jsonify(task_data), 200)


@app.route('/api/projects/1/completions_ids/', methods=['GET'])
@exception_treatment
def api_all_completion_ids():
    """ Get all completion ids
    """
    ids = db.get_completions_ids()
    return make_response(jsonify(ids), 200)


@app.route('/api/tasks/<task_id>/completions/', methods=['POST', 'DELETE'])
@exception_treatment
def api_completions(task_id):
    """ Delete or save new completion to output_dir with the same name as task_id
    """
    global c

    if request.method == 'POST':
        completion = request.json
        completion.pop('state', None)  # remove editor state
        db.save_completion(task_id, completion)
        log.info(msg='Completion saved', extra={'task_id': task_id, 'output': request.json})
        return answer(201, 'ok')

    elif request.method == 'DELETE':
        if c.get('allow_delete_completions', False):
            db.delete_completion(task_id)
            return answer(204, 'deleted')
        else:
            return answer(422, 'Completion removing is not allowed in server config')
    else:
        return answer(500, 'Incorrect request method')


@app.route('/api/tasks/<task_id>/completions/<completion_id>', methods=['PATCH'])
@exception_treatment
def api_completion_rewrite(task_id, completion_id):
    """ Rewrite existing completion with patch.
        This is technical api call for editor testing only. It's used for Rewrite button in editor.
    """
    global c

    completion = request.json
    assert task_id == completion_id, \
        f'Task ID != Completion ID, {task_id} != {completion_id}'

    completion.pop('state', None)  # remove editor state
    db.save_completion(task_id, completion)
    log.info(msg='Completion saved', extra={'task_id': task_id, 'output': request.json})
    return answer(201, 'ok')


@app.route('/api/projects/1/expert_instruction')
@exception_treatment
def api_instruction():
    return make_response(c['instruction'], 200)


if __name__ == "__main__":
    app.run(host='0.0.0.0', port=c['port'], debug=c['debug'])
